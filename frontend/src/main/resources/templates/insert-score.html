<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{_layouts/fixed-sidebar}">
<head>
    <title layout:fragment="header-title">Insert Score</title>
</head>
<body>
<section layout:fragment="body-content-breadcrumb">
    <ol class="breadcrumb float-sm-end">
        <li class="breadcrumb-item active">Insert Score</li>
    </ol>
</section>

<section layout:fragment="body-title">
    <h2>Insert Score</h2>
</section>

<section class="content" layout:fragment="body-content-main">
    <div class="container mb-5">
        <form th:action="@{/learning/insert-score}" th:object="${courseScore}" method="post">
            <input type="hidden" th:field="*{student.id}"/>
            <!-- Course DDL -->
            <div class="mb-3">
                <label for="courseSelect" class="form-label">Choose a Course</label>
                <select id="courseSelect" class="form-select" th:field="*{course.id}">
                    <option value="" disabled>-- Select a course --</option>
                    <option th:each="course : ${courses}"
                            th:value="${course.id}"
                            th:text="${course.name}">
                    </option>
                </select>
                <div th:if="${courseSelectError}" th:text="${error}" class="text-danger mt-2"></div>
            </div>
            <!-- Year Select -->
            <div class="mb-3">
                <label for="yearSelect" class="form-label">Choose a Year</label>
                <select id="yearSelect" class="form-select" th:field="*{year}">
                    <option value="" disabled>-- Select a year --</option>
                    <option th:each="year : ${#numbers.sequence(2000, T(java.time.LocalDate).now().getYear())}"
                            th:value="${year}"
                            th:text="${year}">
                    </option>
                </select>
                <div th:if="${yearSelectError}" th:text="${error}" class="text-danger mt-2"></div>
            </div>
            <!-- Semester Select -->
            <div class="mb-3">
                <label for="semesterSelect" class="form-label">Choose a Semester</label>
                <select id="semesterSelect" class="form-select" th:field="*{semester}">
                    <option value="" disabled>-- Select a semester --</option>
                    <option value="Odd Semester">Odd Semester</option>
                    <option value="Even Semester">Even Semester</option>
                </select>
                <div th:if="${semesterSelectError}" th:text="${error}" class="text-danger mt-2"></div>
            </div>
            <!-- Score Input -->
            <div class="mb-3">
                <label for="score" class="form-label">Score</label>
                <input type="number" id="score" th:field="*{score}" class="form-control" placeholder="Enter score" required/>
                <div th:if="${scoreError}" th:text="${scoreError}" class="text-danger mt-2"></div>
            </div>
            <button type="submit" class="btn btn-orange">Insert Score</button>
        </form>
    </div>
    <a class="btn btn-secondary mt-3" th:href="@{/learning/report(studentId=${student.id})}">Back</a>
</section>

<section layout:fragment="body_scripts" th:remove="tag">
</section>
</body>
</html>
